---
layout: post
title:  "webå‰ç«¯å­¦ä¹ ç¬”è®°"
categories: html css javascript vue
tags: html css javascript vue
author: ZhangJie
---

* content
{:toc}
goå­¦ä¹ ç¬”è®°ã€‚




## html

## css

## js

### JavaScript åŸºç¡€çŸ¥è¯†

#### ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ '??'

ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼ˆnullish coalescing operatorï¼‰çš„å†™æ³•ä¸ºä¸¤ä¸ªé—®å· ??ã€‚

a ?? b çš„ç»“æœæ˜¯ï¼š

å¦‚æœ a æ˜¯å·²å®šä¹‰çš„ï¼Œåˆ™ç»“æœä¸º aï¼Œ
å¦‚æœ a ä¸æ˜¯å·²å®šä¹‰çš„ï¼Œåˆ™ç»“æœä¸º bã€‚

```js
let firstName = null;
let lastName = null;
let nickName = "Supercoder";

// æ˜¾ç¤ºç¬¬ä¸€ä¸ªå·²å®šä¹‰çš„å€¼ï¼š
alert(firstName ?? lastName ?? nickName ?? "åŒ¿å"); // Supercoder
```

|| ã€?? ä¹‹é—´é‡è¦çš„åŒºåˆ«æ˜¯ï¼š

- || è¿”å›ç¬¬ä¸€ä¸ª çœŸ å€¼ã€‚
- ?? è¿”å›ç¬¬ä¸€ä¸ª å·²å®šä¹‰çš„ å€¼ã€‚
æ¢å¥è¯è¯´ï¼Œ|| æ— æ³•åŒºåˆ† falseã€0ã€ç©ºå­—ç¬¦ä¸² "" å’Œ null/undefinedã€‚å®ƒä»¬éƒ½ä¸€æ · â€”â€” å‡å€¼ï¼ˆfalsy valuesï¼‰ã€‚å¦‚æœå…¶ä¸­ä»»ä½•ä¸€ä¸ªæ˜¯ || çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†å¾—åˆ°ç¬¬äºŒä¸ªå‚æ•°ä½œä¸ºç»“æœã€‚


```js
let height = 0;

alert(height || 100); // 100
alert(height ?? 100); // 0
```

#### ç®­å¤´å‡½æ•°ï¼ŒåŸºç¡€çŸ¥è¯†


```js
let sum = (a, b) => a + b;

/* è¿™ä¸ªç®­å¤´å‡½æ•°æ˜¯ä¸‹é¢è¿™ä¸ªå‡½æ•°çš„æ›´çŸ­çš„ç‰ˆæœ¬ï¼š

let sum = function(a, b) {
  return a + b;
};
*/

alert( sum(1, 2) ); // 3
```



```js
let double = n => n * 2;
// å·®ä¸å¤šç­‰åŒäºï¼šlet double = function(n) { return n * 2 }

alert( double(3) ); // 6
```



```js
let sayHi = () => alert("Hello!");

sayHi();
```



```js
let sum = (a, b) => {  // èŠ±æ‹¬å·è¡¨ç¤ºå¼€å§‹ä¸€ä¸ªå¤šè¡Œå‡½æ•°
  let result = a + b;
  return result; // å¦‚æœæˆ‘ä»¬ä½¿ç”¨äº†èŠ±æ‹¬å·ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ˜¾å¼çš„ â€œreturnâ€
};

alert( sum(1, 2) ); // 3
```

### Objectï¼ˆå¯¹è±¡ï¼‰ï¼šåŸºç¡€çŸ¥è¯†

#### å¯é€‰é“¾ "?."

å¦‚æœå¯é€‰é“¾ ?. å‰é¢çš„å€¼ä¸º undefined æˆ–è€… nullï¼Œå®ƒä¼šåœæ­¢è¿ç®—å¹¶è¿”å› undefinedã€‚

```js
let user = {}; // user æ²¡æœ‰ address å±æ€§

alert( user?.address?.street ); // undefinedï¼ˆä¸æŠ¥é”™ï¼‰
```

å¯é€‰é“¾ ?. è¯­æ³•æœ‰ä¸‰ç§å½¢å¼ï¼š

- obj?.prop â€”â€” å¦‚æœ obj å­˜åœ¨åˆ™è¿”å› obj.propï¼Œå¦åˆ™è¿”å› undefinedã€‚
- obj?.[prop] â€”â€” å¦‚æœ obj å­˜åœ¨åˆ™è¿”å› obj[prop]ï¼Œå¦åˆ™è¿”å› undefinedã€‚
- obj.method?.() â€”â€” å¦‚æœ obj.method å­˜åœ¨åˆ™è°ƒç”¨ obj.method()ï¼Œå¦åˆ™è¿”å› undefinedã€‚



### å‡½æ•°è¿›é˜¶å†…å®¹
#### Rest å‚æ•°ä¸ Spread è¯­æ³•

##### Rest å‚æ•°

```js
function sumAll(...args) { // æ•°ç»„åä¸º args
  let sum = 0;

  for (let arg of args) sum += arg;

  return sum;
}

alert( sumAll(1) ); // 1
alert( sumAll(1, 2) ); // 3
alert( sumAll(1, 2, 3) ); // 6
```

```js
function showName(firstName, lastName, ...titles) {
  alert( firstName + ' ' + lastName ); // Julius Caesar

  // å‰©ä½™çš„å‚æ•°è¢«æ”¾å…¥ titles æ•°ç»„ä¸­
  // i.e. titles = ["Consul", "Imperator"]
  alert( titles[0] ); // Consul
  alert( titles[1] ); // Imperator
  alert( titles.length ); // 2
}

showName("Julius", "Caesar", "Consul", "Imperator");
```


æœ‰ä¸€ä¸ªåä¸º arguments çš„ç‰¹æ®Šç±»æ•°ç»„å¯¹è±¡å¯ä»¥åœ¨å‡½æ•°ä¸­è¢«è®¿é—®ï¼Œè¯¥å¯¹è±¡ä»¥å‚æ•°åœ¨å‚æ•°åˆ—è¡¨ä¸­çš„ç´¢å¼•ä½œä¸ºé”®ï¼Œå­˜å‚¨æ‰€æœ‰å‚æ•°ã€‚

```js
function showName() {
  alert( arguments.length );
  alert( arguments[0] );
  alert( arguments[1] );

  // å®ƒæ˜¯å¯éå†çš„
  // for(let arg of arguments) alert(arg);
}

// ä¾æ¬¡æ˜¾ç¤ºï¼š2ï¼ŒJuliusï¼ŒCaesar
showName("Julius", "Caesar");

// ä¾æ¬¡æ˜¾ç¤ºï¼š1ï¼ŒIlyaï¼Œundefinedï¼ˆæ²¡æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼‰
showName("Ilya");
```
åœ¨è¿‡å»ï¼ŒJavaScript ä¸­ä¸æ”¯æŒ rest å‚æ•°è¯­æ³•ï¼Œè€Œä½¿ç”¨ arguments æ˜¯è·å–å‡½æ•°æ‰€æœ‰å‚æ•°çš„å”¯ä¸€æ–¹æ³•ã€‚ç°åœ¨å®ƒä»ç„¶æœ‰æ•ˆï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€äº›è€ä»£ç é‡Œæ‰¾åˆ°å®ƒã€‚

ä½†ç¼ºç‚¹æ˜¯ï¼Œå°½ç®¡ arguments æ˜¯ä¸€ä¸ªç±»æ•°ç»„ï¼Œä¹Ÿæ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œä½†å®ƒç»ˆç©¶ä¸æ˜¯æ•°ç»„ã€‚å®ƒä¸æ”¯æŒæ•°ç»„æ–¹æ³•ï¼Œå› æ­¤æˆ‘ä»¬ä¸èƒ½è°ƒç”¨ arguments.map(...) ç­‰æ–¹æ³•ã€‚

æ­¤å¤–ï¼Œå®ƒå§‹ç»ˆåŒ…å«æ‰€æœ‰å‚æ•°ï¼Œæˆ‘ä»¬ä¸èƒ½åƒä½¿ç”¨ rest å‚æ•°é‚£æ ·åªæˆªå–å‚æ•°çš„ä¸€éƒ¨åˆ†ã€‚

å› æ­¤ï¼Œå½“æˆ‘ä»¬éœ€è¦è¿™äº›åŠŸèƒ½æ—¶ï¼Œæœ€å¥½ä½¿ç”¨ rest å‚æ•°ã€‚

ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªèº«çš„ thisï¼Œä¹Ÿæ²¡æœ‰ç‰¹æ®Šçš„ arguments å¯¹è±¡ã€‚


##### Spread è¯­æ³•

```js
let arr = [3, 5, 1];

alert( Math.max(...arr) ); // 5ï¼ˆspread è¯­æ³•æŠŠæ•°ç»„è½¬æ¢ä¸ºå‚æ•°åˆ—è¡¨ï¼‰
```

```js
let arr1 = [1, -2, 3, 4];
let arr2 = [8, 3, -8, 1];

alert( Math.max(1, ...arr1, 2, ...arr2, 25) ); // 25
```

```js
let str = "Hello";

alert( [...str] ); // H,e,l,l,o
```

```js
let str = "Hello";

// Array.from å°†å¯è¿­ä»£å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„
alert( Array.from(str) ); // H,e,l,l,o
```

è¿è¡Œç»“æœä¸ [...str] ç›¸åŒã€‚

ä¸è¿‡ Array.from(obj) å’Œ [...obj] å­˜åœ¨ä¸€ä¸ªç»†å¾®çš„å·®åˆ«ï¼š

Array.from é€‚ç”¨äºç±»æ•°ç»„å¯¹è±¡ä¹Ÿé€‚ç”¨äºå¯è¿­ä»£å¯¹è±¡ã€‚
Spread è¯­æ³•åªé€‚ç”¨äºå¯è¿­ä»£å¯¹è±¡ã€‚
å› æ­¤ï¼Œå¯¹äºå°†ä¸€äº›â€œä¸œè¥¿â€è½¬æ¢ä¸ºæ•°ç»„çš„ä»»åŠ¡ï¼ŒArray.from å¾€å¾€æ›´é€šç”¨ã€‚



#### è€æ—§çš„ "var"

å˜é‡å£°æ˜çš„ä¸‰ç§æ–¹å¼ï¼šlet, const, var

var æ˜¯ä¸€å¤´éå¸¸ä¸åŒçš„ï¼Œæºè‡ªè¿œå¤æ—¶ä»£çš„æ€ªå…½ã€‚åœ¨ç°ä»£è„šæœ¬ä¸­ä¸€èˆ¬ä¸å†ä½¿ç”¨å®ƒï¼Œä½†å®ƒä»ç„¶æ½œä¼åœ¨æ—§è„šæœ¬ä¸­ã€‚

ç”¨ var å£°æ˜çš„å˜é‡ï¼Œä¸æ˜¯å‡½æ•°ä½œç”¨åŸŸå°±æ˜¯å…¨å±€ä½œç”¨åŸŸã€‚å®ƒä»¬åœ¨ä»£ç å—å¤–ä¹Ÿæ˜¯å¯è§çš„ï¼ˆè¯‘æ³¨ï¼šä¹Ÿå°±æ˜¯è¯´ï¼Œvar å£°æ˜çš„å˜é‡åªæœ‰å‡½æ•°ä½œç”¨åŸŸå’Œå…¨å±€ä½œç”¨åŸŸï¼Œæ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼‰ã€‚

ä½¿ç”¨ varï¼Œæˆ‘ä»¬å¯ä»¥é‡å¤å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œä¸ç®¡å¤šå°‘æ¬¡éƒ½è¡Œã€‚å¦‚æœæˆ‘ä»¬å¯¹ä¸€ä¸ªå·²ç»å£°æ˜çš„å˜é‡ä½¿ç”¨ varï¼Œè¿™æ¡æ–°çš„å£°æ˜è¯­å¥ä¼šè¢«å¿½ç•¥ã€‚

â€œvarâ€ å£°æ˜çš„å˜é‡ï¼Œå¯ä»¥åœ¨å…¶å£°æ˜è¯­å¥å‰è¢«ä½¿ç”¨ã€‚



#### å…¨å±€å¯¹è±¡

å…¨å±€å¯¹è±¡æä¾›å¯åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨çš„å˜é‡å’Œå‡½æ•°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™äº›å…¨å±€å˜é‡å†…å»ºäºè¯­è¨€æˆ–ç¯å¢ƒä¸­ã€‚

åœ¨æµè§ˆå™¨ä¸­ï¼Œå®ƒçš„åå­—æ˜¯ â€œwindowâ€ï¼Œå¯¹ Node.js è€Œè¨€ï¼Œå®ƒçš„åå­—æ˜¯ â€œglobalâ€ï¼Œå…¶å®ƒç¯å¢ƒå¯èƒ½ç”¨çš„æ˜¯åˆ«çš„åå­—ã€‚

æœ€è¿‘ï¼ŒglobalThis è¢«ä½œä¸ºå…¨å±€å¯¹è±¡çš„æ ‡å‡†åç§°åŠ å…¥åˆ°äº† JavaScript ä¸­ï¼Œæ‰€æœ‰ç¯å¢ƒéƒ½åº”è¯¥æ”¯æŒè¯¥åç§°ã€‚æ‰€æœ‰ä¸»æµæµè§ˆå™¨éƒ½æ”¯æŒå®ƒã€‚

å‡è®¾æˆ‘ä»¬çš„ç¯å¢ƒæ˜¯æµè§ˆå™¨ï¼Œæˆ‘ä»¬å°†åœ¨è¿™å„¿ä½¿ç”¨ â€œwindowâ€ã€‚å¦‚æœä½ çš„è„šæœ¬å¯èƒ½ä¼šç”¨æ¥åœ¨å…¶ä»–ç¯å¢ƒä¸­è¿è¡Œï¼Œåˆ™æœ€å¥½ä½¿ç”¨ globalThisã€‚

åœ¨æµè§ˆå™¨ä¸­ï¼Œä½¿ç”¨ varï¼ˆè€Œä¸æ˜¯ let/constï¼ï¼‰å£°æ˜çš„å…¨å±€å‡½æ•°å’Œå˜é‡ä¼šæˆä¸ºå…¨å±€å¯¹è±¡çš„å±æ€§ã€‚

å¦‚æœä¸€ä¸ªå€¼éå¸¸é‡è¦ï¼Œä»¥è‡³äºä½ æƒ³ä½¿å®ƒåœ¨å…¨å±€èŒƒå›´å†…å¯ç”¨ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥å°†å…¶ä½œä¸ºå±æ€§å†™å…¥ï¼š

```js
// å°†å½“å‰ç”¨æˆ·ä¿¡æ¯å…¨å±€åŒ–ï¼Œä»¥å…è®¸æ‰€æœ‰è„šæœ¬è®¿é—®å®ƒ
window.currentUser = {
  name: "John"
};

// ä»£ç ä¸­çš„å¦ä¸€ä¸ªä½ç½®
alert(currentUser.name);  // John

// æˆ–è€…ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º "currentUser" çš„å±€éƒ¨å˜é‡
// ä» window æ˜¾å¼åœ°è·å–å®ƒï¼ˆè¿™æ˜¯å®‰å…¨çš„ï¼ï¼‰
alert(window.currentUser.name); // John
```

#### å‡½æ•°å¯¹è±¡ï¼ŒNFE

ä¸€ä¸ªå‡½æ•°çš„åå­—å¯ä»¥é€šè¿‡å±æ€§ â€œnameâ€ æ¥è®¿é—®ï¼š


```js
function sayHi() {
  alert("Hi");
}

alert(sayHi.name); // sayHi
```

è¿˜æœ‰å¦ä¸€ä¸ªå†…å»ºå±æ€§ â€œlengthâ€ï¼Œå®ƒè¿”å›å‡½æ•°å…¥å‚çš„ä¸ªæ•°ï¼Œæ¯”å¦‚ï¼š

```js
function f1(a) {}
function f2(a, b) {}
function many(a, b, ...more) {}

alert(f1.length); // 1
alert(f2.length); // 2
alert(many.length); // 2, rest å‚æ•°ä¸å‚ä¸è®¡æ•°
```

æˆ‘ä»¬ä¹Ÿå¯ä»¥æ·»åŠ æˆ‘ä»¬è‡ªå·±çš„å±æ€§ã€‚è¿™é‡Œæˆ‘ä»¬æ·»åŠ äº† counter å±æ€§ï¼Œç”¨æ¥è·Ÿè¸ªæ€»çš„è°ƒç”¨æ¬¡æ•°ï¼š
```js
function sayHi() {
  alert("Hi");

  // è®¡ç®—è°ƒç”¨æ¬¡æ•°
  sayHi.counter++;
}
sayHi.counter = 0; // åˆå§‹å€¼

sayHi(); // Hi
sayHi(); // Hi

alert( `Called ${sayHi.counter} times` ); // Called 2 times
```

#### è°ƒåº¦ï¼šsetTimeout å’Œ setInterval

æœ‰æ—¶æˆ‘ä»¬å¹¶ä¸æƒ³ç«‹å³æ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼Œè€Œæ˜¯ç­‰å¾…ç‰¹å®šä¸€æ®µæ—¶é—´ä¹‹åå†æ‰§è¡Œã€‚è¿™å°±æ˜¯æ‰€è°“çš„â€œè®¡åˆ’è°ƒç”¨ï¼ˆscheduling a callï¼‰â€ã€‚

ç›®å‰æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å®ç°ï¼š

setTimeout å…è®¸æˆ‘ä»¬å°†å‡½æ•°æ¨è¿Ÿåˆ°ä¸€æ®µæ—¶é—´é—´éš”ä¹‹åå†æ‰§è¡Œã€‚
setInterval å…è®¸æˆ‘ä»¬é‡å¤è¿è¡Œä¸€ä¸ªå‡½æ•°ï¼Œä»ä¸€æ®µæ—¶é—´é—´éš”ä¹‹åå¼€å§‹è¿è¡Œï¼Œä¹‹åä»¥è¯¥æ—¶é—´é—´éš”è¿ç»­é‡å¤è¿è¡Œè¯¥å‡½æ•°ã€‚


##### setTimeout

```js
function sayHi() {
  alert('Hello');
}

setTimeout(sayHi, 1000);
```

```js
function sayHi(phrase, who) {
  alert( phrase + ', ' + who );
}

setTimeout(sayHi, 1000, "Hello", "John"); // Hello, John
```

```js
setTimeout(() => alert('Hello'), 1000);
```

å–æ¶ˆè°ƒåº¦çš„è¯­æ³•ï¼š
```js
let timerId = setTimeout(...);
clearTimeout(timerId);
```

##### setInterval

ä¸ setTimeout åªæ‰§è¡Œä¸€æ¬¡ä¸åŒï¼ŒsetInterval æ˜¯æ¯é—´éš”ç»™å®šçš„æ—¶é—´å‘¨æœŸæ€§æ‰§è¡Œã€‚

æƒ³è¦é˜»æ­¢åç»­è°ƒç”¨ï¼Œæˆ‘ä»¬éœ€è¦è°ƒç”¨ clearInterval(timerId)ã€‚

ä¸‹é¢çš„ä¾‹å­å°†æ¯é—´éš” 2 ç§’å°±ä¼šè¾“å‡ºä¸€æ¡æ¶ˆæ¯ã€‚5 ç§’ä¹‹åï¼Œè¾“å‡ºåœæ­¢ï¼š


```js
// æ¯ 2 ç§’é‡å¤ä¸€æ¬¡
let timerId = setInterval(() => alert('tick'), 2000);

// 5 ç§’ä¹‹ååœæ­¢
setTimeout(() => { clearInterval(timerId); alert('stop'); }, 5000);
```

åœ¨å¤§å¤šæ•°æµè§ˆå™¨ä¸­ï¼ŒåŒ…æ‹¬ Chrome å’Œ Firefoxï¼Œåœ¨æ˜¾ç¤º alert/confirm/prompt å¼¹çª—æ—¶ï¼Œå†…éƒ¨çš„å®šæ—¶å™¨ä»æ—§ä¼šç»§ç»­â€œå˜€å—’â€ã€‚

æ‰€ä»¥ï¼Œåœ¨è¿è¡Œä¸Šé¢çš„ä»£ç æ—¶ï¼Œå¦‚æœåœ¨ä¸€å®šæ—¶é—´å†…æ²¡æœ‰å…³æ‰ alert å¼¹çª—ï¼Œé‚£ä¹ˆåœ¨ä½ å…³é—­å¼¹çª—åï¼Œä¸‹ä¸€ä¸ª alert ä¼šç«‹å³æ˜¾ç¤ºã€‚ä¸¤æ¬¡ alert ä¹‹é—´çš„æ—¶é—´é—´éš”å°†å°äº 2 ç§’ã€‚


### Promiseï¼Œasync/await

#### Promise

Promise æ˜¯å°†â€œç”Ÿäº§è€…ä»£ç â€å’Œâ€œæ¶ˆè´¹è€…ä»£ç â€è¿æ¥åœ¨ä¸€èµ·çš„ä¸€ä¸ªç‰¹æ®Šçš„ JavaScript å¯¹è±¡ã€‚

```js
let promise = new Promise(function(resolve, reject) {
  // executorï¼ˆç”Ÿäº§è€…ä»£ç ï¼Œâ€œæ­Œæ‰‹â€ï¼‰
});
```

executor ä¼šè‡ªåŠ¨è¿è¡Œå¹¶å°è¯•æ‰§è¡Œä¸€é¡¹å·¥ä½œã€‚å°è¯•ç»“æŸåï¼Œå¦‚æœæˆåŠŸåˆ™è°ƒç”¨ resolveï¼Œå¦‚æœå‡ºç° error åˆ™è°ƒç”¨ rejectã€‚

#### æ¶ˆè´¹è€…ï¼šthenï¼Œcatch

Promise å¯¹è±¡å……å½“çš„æ˜¯ executorï¼ˆâ€œç”Ÿäº§è€…ä»£ç â€æˆ–â€œæ­Œæ‰‹â€ï¼‰å’Œæ¶ˆè´¹å‡½æ•°ï¼ˆâ€œç²‰ä¸â€ï¼‰ä¹‹é—´çš„è¿æ¥ï¼Œåè€…å°†æ¥æ”¶ç»“æœæˆ– errorã€‚å¯ä»¥é€šè¿‡ä½¿ç”¨ .then å’Œ .catch æ–¹æ³•æ³¨å†Œæ¶ˆè´¹å‡½æ•°ã€‚


```js
promise.then(
  function(result) { /* handle a successful result */ },
  function(error) { /* handle an error */ }
);
```


```js
let promise = new Promise(function(resolve, reject) {
  setTimeout(() => resolve("done!"), 1000);
});

// resolve è¿è¡Œ .then ä¸­çš„ç¬¬ä¸€ä¸ªå‡½æ•°
promise.then(
  result => alert(result), // 1 ç§’åæ˜¾ç¤º "done!"
  error => alert(error) // ä¸è¿è¡Œ
);
```


```js
let promise = new Promise(function(resolve, reject) {
  setTimeout(() => reject(new Error("Whoops!")), 1000);
});

// reject è¿è¡Œ .then ä¸­çš„ç¬¬äºŒä¸ªå‡½æ•°
promise.then(
  result => alert(result), // ä¸è¿è¡Œ
  error => alert(error) // 1 ç§’åæ˜¾ç¤º "Error: Whoops!"
);
```



```js
new Promise((resolve, reject) => {
  throw new Error("error");
})
  .finally(() => alert("Promise ready")) // å…ˆè§¦å‘
  .catch(err => alert(err));  // <-- .catch æ˜¾ç¤ºè¿™ä¸ª error
```



```js
fetch('https://no-such-server.blabla') // reject
  .then(response => response.json())
  .catch(err => alert(err)) // TypeError: Failed to fetchï¼ˆè¿™é‡Œçš„æ–‡å­—å¯èƒ½æœ‰æ‰€ä¸åŒï¼‰
```

#### async/await

async/await æ˜¯ä»¥æ›´èˆ’é€‚çš„æ–¹å¼ä½¿ç”¨ promise çš„ä¸€ç§ç‰¹æ®Šè¯­æ³•ï¼ŒåŒæ—¶å®ƒä¹Ÿéå¸¸æ˜“äºç†è§£å’Œä½¿ç”¨ã€‚


```js
async function f() {
  return 1;
}

f().then(alert); // 1
```

åœ¨å‡½æ•°å‰é¢çš„ â€œasyncâ€ è¿™ä¸ªå•è¯è¡¨è¾¾äº†ä¸€ä¸ªç®€å•çš„äº‹æƒ…ï¼šå³è¿™ä¸ªå‡½æ•°æ€»æ˜¯è¿”å›ä¸€ä¸ª promiseã€‚å…¶ä»–å€¼å°†è‡ªåŠ¨è¢«åŒ…è£…åœ¨ä¸€ä¸ª resolved çš„ promise ä¸­ã€‚

å…³é”®å­— await è®© JavaScript å¼•æ“ç­‰å¾…ç›´åˆ° promise å®Œæˆï¼ˆsettleï¼‰å¹¶è¿”å›ç»“æœã€‚

è¿™é‡Œçš„ä¾‹å­å°±æ˜¯ä¸€ä¸ª 1 ç§’å resolve çš„ promiseï¼š

```js
async function f() {

  let promise = new Promise((resolve, reject) => {
    setTimeout(() => resolve("done!"), 1000)
  });

  let result = await promise; // ç­‰å¾…ï¼Œç›´åˆ° promise resolve (*)

  alert(result); // "done!"
}

f();
```

### æ¨¡å—

ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª sayHi.js æ–‡ä»¶å¯¼å‡ºäº†ä¸€ä¸ªå‡½æ•°ï¼š

```js
// ğŸ“ sayHi.js
export function sayHi(user) {
  alert(`Hello, ${user}!`);
}
```
â€¦â€¦ç„¶åå¦ä¸€ä¸ªæ–‡ä»¶å¯èƒ½å¯¼å…¥å¹¶ä½¿ç”¨äº†è¿™ä¸ªå‡½æ•°ï¼š

```js
// ğŸ“ main.js
import { sayHi } from './sayHi.js';

alert(sayHi); // function...
sayHi('John'); // Hello, John!
```

- åœ¨å£°æ˜å‰å¯¼å‡º

```js
// å¯¼å‡ºæ•°ç»„
export let months = ['Jan', 'Feb', 'Mar','Apr', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

// å¯¼å‡º const å£°æ˜çš„å˜é‡
export const MODULES_BECAME_STANDARD_YEAR = 2015;

// å¯¼å‡ºç±»
export class User {
  constructor(name) {
    this.name = name;
  }
}
```

- å¯¼å‡ºä¸å£°æ˜åˆ†å¼€


```js
// ğŸ“ say.js
function sayHi(user) {
  alert(`Hello, ${user}!`);
}

function sayBye(user) {
  alert(`Bye, ${user}!`);
}

export {sayHi, sayBye}; // å¯¼å‡ºå˜é‡åˆ—è¡¨
```

- Import *

```js
// ğŸ“ main.js
import {sayHi, sayBye} from './say.js';

sayHi('John'); // Hello, John!
sayBye('John'); // Bye, John!
```

```js
// ğŸ“ main.js
import * as say from './say.js';

say.sayHi('John');
say.sayBye('John');
```



## vue


### vue2


### vue3

